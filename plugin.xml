<idea-plugin>
    <id>com.ultracodeai.plugin</id>
    <name>UltraCodeAI</name>
    <version>1.0.0</version>
    
    <depends>com.intellij.modules.python</depends>
    <depends>com.intellij.modules.platform</depends>
    
    <extensions defaultExtensionNs="com.intellij">
        <!-- AI Error Annotator - MOST IMPORTANT -->
        <annotator 
            language="Python" 
            implementationClass="com.ultracodeai.inspections.AIErrorAnnotator"/>
        
        <!-- AI Code Inspection -->
        <localInspection 
            language="Python"
            shortName="UltraCodeAIInspection" 
            displayName="UltraCodeAI Analysis"
            groupName="UltraCodeAI"
            level="WARNING"
            enabledByDefault="true"
            implementationClass="com.ultracodeai.inspections.AICodeInspection"/>
        
        <!-- Tool window for chat -->
        <toolWindow 
            id="UltraCodeAI"
            secondary="true"
            anchor="right"
            factoryClass="com.ultracodeai.ui.ChatToolWindowFactory"/>
        
        <!-- Settings -->
        <projectConfigurable 
            parentId="tools" 
            instance="com.ultracodeai.ui.SettingsConfigurable"
            id="com.ultracodeai.settings"
            displayName="UltraCodeAI"/>
    </extensions>
    
    <!-- Actions for right-click menu -->
    <actions>
        <group id="UltraCodeAI.EditorActions" text="UltraCodeAI">
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
            
            <action id="UltraCodeAI.ExplainCode" 
                    class="com.ultracodeai.ui.ExplainCodeAction" 
                    text="ðŸ“– Explain Code"/>
            <action id="UltraCodeAI.FixCode" 
                    class="com.ultracodeai.ui.FixCodeAction" 
                    text="ðŸ”§ AI Fix Suggestion"/>
        </group>
    </actions>
</idea-plugin>
